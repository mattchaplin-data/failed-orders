(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{88223:function(e,t,o){Promise.resolve().then(o.bind(o,87518)),Promise.resolve().then(o.t.bind(o,426,23)),Promise.resolve().then(o.t.bind(o,98763,23)),Promise.resolve().then(o.t.bind(o,58440,23)),Promise.resolve().then(o.t.bind(o,93717,23)),Promise.resolve().then(o.t.bind(o,47864,23))},73405:function(e,t,o){"use strict";var n=o(994),r=o(81075),i=o(52749),c=o(76664),a=o(89036),u=o(99890),s=o(11301),l=o(46376),f=(0,s.q)(function(e){var t=e.graphQLErrors,o=e.networkError;t&&t.forEach(function(e){var t=e.message,o=e.locations,n=e.path;return console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(o,", Path: ").concat(n))}),o&&console.log("[Network error]: ".concat(o))}),d=new r.i(function(e,t){var o=l.S9.getToken();return e.setContext(function(e){var t=e.headers;return{credentials:"same-origin",headers:(0,n._)({Authorization:o&&"Token ".concat(o)||null},t)}}),t(e)}),h=new i.u({uri:"".concat("https://api.stratascratch.com","/graphql/"),fetch:fetch}),v=new c.f({link:(0,a.D)([f,d,h]),cache:new u.h({possibleTypes:{QuestionType:["EducationalQuestionType","TechnicalQuestionType"],BaseCommentType:["CodingQuestionCommentType","NonCodingQuestionCommentType","DataProjectCommentType"]},typePolicies:{EducationalQuestionType:{fields:{isCorrectSolution:{keyArgs:function(e,t){var o;return"isCorrectSolution:codeType:".concat(null===(o=t.variables)||void 0===o?void 0:o.codeType)}}}},AnalyticsType:{fields:{totals:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n._)({},e,t)}}}}}})});t.Z=v},87518:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return Providers}});var n=o(25159),r=o(46376),i=o(83934),c=o(33904),a=o(73602),ApolloProvider=function(e){var t=e.client,o=e.children,n=(0,a.K)();return c.createElement(n.Consumer,null,function(e){return void 0===e&&(e={}),t&&e.client!==t&&(e=Object.assign({},e,{client:t})),__DEV__?(0,i.kG)(e.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'):(0,i.kG)(e.client,26),c.createElement(n.Provider,{value:e},o)})},u=o(73405);function Providers(e){var t=e.children;return(0,n.jsx)(r.Ho,{params:{APIUrl:"https://api.stratascratch.com"},children:(0,n.jsx)(ApolloProvider,{client:u.Z,children:t})})}},46376:function(e,t,o){"use strict";o.d(t,{Ho:function(){return a},S9:function(){return u},ri:function(){return fetchWithAuth}});var n=o(994),r=o(83323),i=o(17891),c=(0,o(52026).j2)("production"),a=c.AuthProvider,u=c.tokenUtils;function fetchWithAuth(){for(var e,t=arguments.length,o=Array(t),c=0;c<t;c++)o[c]=arguments[c];var a=(0,i._)(o),s=u.getToken();return s&&(a[1]=(0,r._)((0,n._)({},a[1]),{headers:(0,n._)({Authorization:"Token ".concat(s)},null===(e=a[1])||void 0===e?void 0:e.headers)})),fetch.apply(void 0,(0,i._)(a))}},52026:function(e,t,o){"use strict";o.d(t,{j2:function(){return configureAuth},kT:function(){return deleteCookie},ej:function(){return getCookie},d8:function(){return setCookie},aC:function(){return useAuth}});var n=o(994),r=o(83323),i=o(18223),c=o(25159);function getCookie(e){var t=document.cookie.match(new RegExp("(?:^|; )".concat(e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1"),"=([^;]*)")));return t?decodeURIComponent(t[1]):void 0}function setCookie(e,t,o){var n="";if(o){var r=new Date;r.setTime(r.getTime()+864e5*o),n="; expires=".concat(r.toUTCString())}document.cookie="".concat(e,"=").concat(t||"").concat(n,"; path=/")}var deleteCookie=function(e){document.cookie="".concat(e,"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;")};function getCookieDomain(e){return"production"===e||"staging"===e?";domain=stratascratch.com":""}var src_tokenUtils=function(e){var t=e&&"production"!==e?"system_user_logged_".concat(e):"system_user_logged";function saveTokenToCookie(o){var n=getCookieDomain(e);setCookie(t,"".concat(o," ").concat(n),60)}return{getToken:function(){var e=getCookie(t);if(e)return localStorage.removeItem(t),e;var o=localStorage.getItem(t);return o?(saveTokenToCookie(o),localStorage.removeItem(t),o):null},saveTokenToCookie:saveTokenToCookie,deleteTokenCookie:function(){var o=getCookieDomain(e);setCookie(t," ".concat(o),-999)},saveTokenToLocalStorage:function(e){localStorage.setItem(t,e)}}},a=o(96070),u=o(11843),s=o(21221),l=o(33904),f=(0,l.createContext)(void 0);function AuthProvider(e){var t,o,n=e.children,r=e.params,i=r.APIUrl,d=src_tokenUtils(r.env),h=d.getToken,v=d.deleteTokenCookie,p=d.saveTokenToCookie,_=(0,u._)((0,l.useState)(null),2),m=_[0],k=_[1],g=!!m,T=!!(null==m?void 0:m.is_premium),logout=function(){localStorage.clear(),v(),k(null)},C=(t=(0,a._)(function(){var e,t;return(0,s.Jh)(this,function(o){switch(o.label){case 0:if(!(e=h()))return k(null),[2];return[4,fetch(i.replace(/\/$/,"")+"/users/me/",{headers:{Authorization:"Token ".concat(e)}})];case 1:if(!(t=o.sent()).ok)return[3,3];return[4,t.json()];case 2:return k(o.sent()),[3,4];case 3:logout(),o.label=4;case 4:return[2]}})}),function(){return t.apply(this,arguments)}),y=(o=(0,a._)(function(e){var t,o;return(0,s.Jh)(this,function(n){switch(n.label){case 0:return[4,fetch(i.replace(/\/$/,"")+"/rest-auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return[4,(t=n.sent()).json()];case 2:if(o=n.sent(),!(t.ok&&"key"in o))return[3,4];return p(o.key),[4,C()];case 3:n.sent(),n.label=4;case 4:if(!t.ok&&"non_field_errors"in o)throw Error(o.non_field_errors[0]);if(!t.ok&&"email"in o)throw Error(o.email[0]);if(!t.ok)throw Error("An error has occured");return[2]}})}),function(e){return o.apply(this,arguments)});(0,l.useEffect)(function(){C()},[]);var P=(0,l.useMemo)(function(){return{user:m,isAuthenticated:g,isPremium:T,login:y,logout:logout,syncUser:C}},[m,g]);return(0,c.jsx)(f.Provider,{value:P,children:n})}function useAuth(){var e=(0,l.useContext)(f);if(void 0===e)throw Error("useAuth must be within a AuthProvider component");return e}function configureAuth(e){return{tokenUtils:src_tokenUtils(e),AuthProvider:function(t){var o=t.params,a=(0,i._)(t,["params"]);return(0,c.jsx)(AuthProvider,(0,r._)((0,n._)({},a),{params:(0,n._)({env:e},o)}))}}}},58440:function(){},93717:function(){},98763:function(){},47864:function(e){e.exports={style:{fontFamily:"'__Roboto_979022', '__Roboto_Fallback_979022'",fontStyle:"normal"},className:"__className_979022"}},42499:function(e,t,o){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=o(33904),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,o){var n,i={},s=null,l=null;for(n in void 0!==o&&(s=""+o),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(l=t.ref),t)c.call(t,n)&&!u.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:r,type:e,key:s,ref:l,props:i,_owner:a.current}}t.Fragment=i,t.jsx=q,t.jsxs=q},25159:function(e,t,o){"use strict";e.exports=o(42499)},73602:function(e,t,o){"use strict";o.d(t,{K:function(){return getApolloContext}});var n=o(33904),r=o(84177).aS?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function getApolloContext(){var e=n.createContext[r];return e||(Object.defineProperty(n.createContext,r,{value:e=n.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}}},function(e){e.O(0,[3947,5090,5555,8412,1744],function(){return e(e.s=88223)}),_N_E=e.O()}]);